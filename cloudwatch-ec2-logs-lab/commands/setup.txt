=========================================
ðŸš€ CloudWatch EC2 Logs Setup â€“ Step-by-Step
=========================================

-----------------------------------------
ðŸ”¹ Prerequisites
-----------------------------------------
âœ” Launch an EC2 instance using Amazon linux AMI
âœ” Attach IAM Role with policy: CloudWatchAgentServerPolicy or you can give CloudWatchFullAccess

-----------------------------------------
ðŸ”¹ Step 1 â€” Install CloudWatch Agent
-----------------------------------------
Run the command:
sudo yum install amazon-cloudwatch-agent -y

This installs the CloudWatch agent needed to push logs to CloudWatch.

-----------------------------------------
ðŸ”¹ Step 2 â€” Update CloudWatch config file
-----------------------------------------
Open the config file using vi editor:
sudo vi /opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.json

Press 'i' to enter insert mode and paste the JSON configuration copied from this repository (cloudwatch-ec2-logs-lab/config/amazon-cloudwatch-agent.json).

Save and exit:
Press ESC
:type  :wq   and press Enter

-----------------------------------------
ðŸ”¹ Step 3 â€” Start and Enable the Agent
-----------------------------------------
Run the following commands:
sudo systemctl enable amazon-cloudwatch-agent
sudo systemctl start amazon-cloudwatch-agent

-----------------------------------------
ðŸ”¹ Step 4 â€” Verify Agent Status
-----------------------------------------
Check if the agent is running:
sudo systemctl status amazon-cloudwatch-agent

If it is running successfully, logs are now being pushed to CloudWatch.

-----------------------------------------
ðŸ”¹ Step 5 â€” Validate in AWS Console
-----------------------------------------
Go to:
CloudWatch â†’ Logs â†’ Log groups

You will see the log group used inside the JSON, for example:
/ec2/cloud-init-log

Click the log group â†’ select the log stream (instance-id) â†’ log events will appear.

-----------------------------------------
ðŸ’¡ Notes
-----------------------------------------
â€¢ If JSON is updated, restart the agent:
  sudo systemctl restart amazon-cloudwatch-agent

â€¢ Multiple log files can be added with additional "collect_list" entries inside the JSON.

=========================================
ðŸŽ‰ Setup Completed â€” Logs are now visible in CloudWatch
=========================================
